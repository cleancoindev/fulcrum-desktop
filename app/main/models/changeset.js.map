{"version":3,"sources":["../../../src/main/models/changeset.js"],"names":["Changeset","tableName","columns","name","column","type","null","beforeSave","options","_metadataIndexText","metadataIndexText","register"],"mappings":";;;;;;AAAA;;AACA;;;;AAEe,MAAMA,SAAN,gCAAsC;AACnD,aAAWC,SAAX,GAAuB;AACrB,WAAO,YAAP;AACD;;AAED,aAAWC,OAAX,GAAqB;AACnB,WAAO,CACL,EAAEC,MAAM,cAAR,EAAwBC,QAAQ,YAAhC,EAA8CC,MAAM,SAApD,EAA+DC,MAAM,KAArE,EADK,EAEL,EAAEH,MAAM,IAAR,EAAcC,QAAQ,aAAtB,EAAqCC,MAAM,QAA3C,EAAqDC,MAAM,KAA3D,EAFK,EAGL,EAAEH,MAAM,WAAR,EAAqBC,QAAQ,SAA7B,EAAwCC,MAAM,SAA9C,EAHK,EAIL,EAAEF,MAAM,UAAR,EAAoBC,QAAQ,UAA5B,EAAwCC,MAAM,MAA9C,EAJK,EAKL,EAAEF,MAAM,mBAAR,EAA6BC,QAAQ,qBAArC,EAA4DC,MAAM,QAAlE,EALK,EAML,EAAEF,MAAM,UAAR,EAAoBC,QAAQ,WAA5B,EAAyCC,MAAM,UAA/C,EANK,EAOL,EAAEF,MAAM,eAAR,EAAyBC,QAAQ,cAAjC,EAAiDC,MAAM,SAAvD,EAPK,EAQL,EAAEF,MAAM,YAAR,EAAsBC,QAAQ,uBAA9B,EAAuDC,MAAM,QAA7D,EARK,EASL,EAAEF,MAAM,gBAAR,EAA0BC,QAAQ,eAAlC,EAAmDC,MAAM,SAAzD,EATK,EAUL,EAAEF,MAAM,aAAR,EAAuBC,QAAQ,wBAA/B,EAAyDC,MAAM,QAA/D,EAVK,EAWL,EAAEF,MAAM,iBAAR,EAA2BC,QAAQ,mBAAnC,EAAwDC,MAAM,SAA9D,EAXK,EAYL,EAAEF,MAAM,QAAR,EAAkBC,QAAQ,SAA1B,EAAqCC,MAAM,QAA3C,EAZK,EAaL,EAAEF,MAAM,QAAR,EAAkBC,QAAQ,SAA1B,EAAqCC,MAAM,QAA3C,EAbK,EAcL,EAAEF,MAAM,QAAR,EAAkBC,QAAQ,SAA1B,EAAqCC,MAAM,QAA3C,EAdK,EAeL,EAAEF,MAAM,QAAR,EAAkBC,QAAQ,SAA1B,EAAqCC,MAAM,QAA3C,EAfK,EAgBL,EAAEF,MAAM,WAAR,EAAqBC,QAAQ,YAA7B,EAA2CC,MAAM,UAAjD,EAA6DC,MAAM,KAAnE,EAhBK,EAiBL,EAAEH,MAAM,WAAR,EAAqBC,QAAQ,YAA7B,EAA2CC,MAAM,UAAjD,EAA6DC,MAAM,KAAnE,EAjBK,CAAP;AAmBD;;AAEKC,YAAN,CAAiBC,OAAjB,EAA0B;AAAA;;AAAA;AACxB,YAAKC,kBAAL,GAA0B,MAAKC,iBAA/B;AADwB;AAEzB;AA7BkD;;kBAAhCV,S;AAgCrB,yBAAiBW,QAAjB,CAA0BX,SAA1B","file":"changeset.js","sourcesContent":["import { PersistentObject } from 'minidb';\nimport { Changeset as ChangesetBase } from 'fulcrum-core';\n\nexport default class Changeset extends ChangesetBase {\n  static get tableName() {\n    return 'changesets';\n  }\n\n  static get columns() {\n    return [\n      { name: 'accountRowID', column: 'account_id', type: 'integer', null: false },\n      { name: 'id', column: 'resource_id', type: 'string', null: false },\n      { name: 'formRowID', column: 'form_id', type: 'integer' },\n      { name: 'metadata', column: 'metadata', type: 'json' },\n      { name: 'metadataIndexText', column: 'metadata_index_text', type: 'string' },\n      { name: 'closedAt', column: 'closed_at', type: 'datetime' },\n      { name: 'closedByRowID', column: 'closed_by_id', type: 'integer' },\n      { name: 'closedByID', column: 'closed_by_resource_id', type: 'string' },\n      { name: 'createdByRowID', column: 'created_by_id', type: 'integer' },\n      { name: 'createdByID', column: 'created_by_resource_id', type: 'string' },\n      { name: 'numberOfChanges', column: 'number_of_changes', type: 'integer' },\n      { name: 'minLat', column: 'min_lat', type: 'double' },\n      { name: 'maxLat', column: 'max_lat', type: 'double' },\n      { name: 'minLon', column: 'min_lon', type: 'double' },\n      { name: 'maxLon', column: 'max_lon', type: 'double' },\n      { name: 'createdAt', column: 'created_at', type: 'datetime', null: false },\n      { name: 'updatedAt', column: 'updated_at', type: 'datetime', null: false }\n    ];\n  }\n\n  async beforeSave(options) {\n    this._metadataIndexText = this.metadataIndexText;\n  }\n}\n\nPersistentObject.register(Changeset);\n"]}