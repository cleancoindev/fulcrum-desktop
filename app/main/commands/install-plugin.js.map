{"version":3,"sources":["../../../src/main/commands/install-plugin.js"],"names":["NewPlugin","run","pluginPath","app","dir","commands","parts","args","git","split","name","length","replace","newPluginPath","join","push","string","console","log","start"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,SAAN,2BAAgC;AACxBC,KAAN,GAAY;AAAA;;AAAA;AACV,YAAMC,aAAa,MAAKC,GAAL,CAASC,GAAT,CAAa,SAAb,CAAnB;;AAEA,YAAMC,WAAW,EAAjB;;AAEA,YAAMC,QAAQ,MAAKC,IAAL,CAAUC,GAAV,CAAcC,KAAd,CAAoB,GAApB,CAAd;;AAEA,YAAMC,OAAOJ,MAAMA,MAAMK,MAAN,GAAe,CAArB,EAAwBC,OAAxB,CAAgC,OAAhC,EAAyC,EAAzC,CAAb;;AAEA,YAAMC,gBAAgB,eAAKC,IAAL,CAAUZ,UAAV,EAAsBQ,IAAtB,CAAtB;;AAEAL,eAASU,IAAT,CAAe,aAAY,MAAKR,IAAL,CAAUC,GAAI,IAAGK,aAAc,EAA1D;AACAR,eAASU,IAAT,CAAe,MAAKF,aAAc,EAAlC;AACAR,eAASU,IAAT,CAAc,MAAd;;AAEA,YAAMC,SAASX,SAASS,IAAT,CAAc,MAAd,CAAf;;AAEAG,cAAQC,GAAR,CAAY,eAAZ;;AAEA,mCAASF,MAAT;;AAEAC,cAAQC,GAAR,CAAY,qBAAZ,EAAmCL,aAAnC;AArBU;AAsBX;AAvB6B;;AA0BhC,IAAIb,SAAJ,GAAgBmB,KAAhB","file":"install-plugin.js","sourcesContent":["import Command from './command';\nimport path from 'path';\nimport { execSync } from 'child_process';\n\nclass NewPlugin extends Command {\n  async run() {\n    const pluginPath = this.app.dir('plugins');\n\n    const commands = [];\n\n    const parts = this.args.git.split('/');\n\n    const name = parts[parts.length - 1].replace(/\\.git/, '');\n\n    const newPluginPath = path.join(pluginPath, name);\n\n    commands.push(`git clone ${this.args.git} ${newPluginPath}`);\n    commands.push(`cd ${newPluginPath}`);\n    commands.push('yarn');\n\n    const string = commands.join(' && ');\n\n    console.log('Installing...');\n\n    execSync(string);\n\n    console.log('Plugin installed at', newPluginPath);\n  }\n}\n\nnew NewPlugin().start();\n"]}